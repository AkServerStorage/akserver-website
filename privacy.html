<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AkServer Licenses & Privacy</title>
<style>
  /* Reset and base */
  body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background: #fff;
    color: #000;
  }
  h1 {
    margin: 0;
    padding: 1.5rem;
    font-weight: 700;
    font-size: 1.8rem;
    color: #05445e;
    text-align: center;
    border-bottom: 2px solid #2a8bff;
    user-select: none;
  }

  /* Layout */
  .container {
    display: flex;
    height: calc(100vh - 66px); /* full height minus header */
    max-width: 1100px;
    margin: 0 auto;
    box-shadow: 0 0 25px rgb(0 0 0 / 0.05);
    border-radius: 12px;
    overflow: hidden;
  }

  /* Sidebar nav */
  nav {
    width: 280px;
    background: #f9fbfc;
    border-right: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
  }

  nav button {
    background: transparent;
    border: none;
    padding: 1rem 1.5rem;
    font-size: 1rem;
    color: #222;
    text-align: left;
    cursor: pointer;
    border-left: 4px solid transparent;
    transition: background-color 0.3s, border-color 0.3s;
    user-select: none;
  }
  nav button:hover {
    background-color: #e6f0ff;
  }
  nav button.active {
    background-color: #d4e5ff;
    border-left-color: #2a8bff;
    font-weight: 700;
    color: #05445e;
  }

  /* Content area */
  #content-container {
    flex-grow: 1;
    background: white;
    padding: 2rem;
    overflow-y: auto;
    font-family: Consolas, "Courier New", monospace;
    font-size: 0.95rem;
    line-height: 1.5;
    color: #000;
    white-space: pre-wrap;
  }

  #loading {
    color: #666;
    font-style: italic;
    text-align: center;
    margin-top: 3rem;
  }

  /* Scrollbar styling for modern browsers */
  #content-container::-webkit-scrollbar {
    width: 8px;
  }
  #content-container::-webkit-scrollbar-thumb {
    background-color: #2a8bff;
    border-radius: 4px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .container {
      flex-direction: column;
      height: auto;
      max-width: 100%;
      border-radius: 0;
      box-shadow: none;
    }
    nav {
      width: 100%;
      flex-direction: row;
      border-right: none;
      border-bottom: 1px solid #ddd;
      overflow-x: auto;
      overflow-y: hidden;
    }
    nav button {
      flex: 0 0 auto;
      border-left: none;
      border-bottom: 3px solid transparent;
      padding: 0.8rem 1rem;
      text-align: center;
      font-size: 0.9rem;
    }
    nav button.active {
      border-bottom-color: #2a8bff;
      border-left: none;
    }
    #content-container {
      height: 400px;
      padding: 1rem;
    }
  }
</style>
</head>
<body>

<h1>AkServer Licenses & Privacy Documents</h1>

<div class="container">
  <nav id="docs-nav" aria-label="License and Privacy Documents">
    <!-- Buttons inserted dynamically -->
  </nav>

  <main id="content-container" tabindex="0" aria-live="polite" aria-busy="false">
    <div id="loading">Select a document from the left to view its content.</div>
  </main>
</div>

<script>
  const docs = [
    { name: "Apache-2.0 License", file: "Apache-2.0.txt" },
    { name: "End User License Agreement (EULA)", file: "EULA.txt" },
    { name: "GPLv3 License", file: "GPLv3.txt" },
    { name: "LGPLv3 License", file: "LGPLv3.txt" },
    { name: "Main License", file: "LICENSE.txt" },
    { name: "MPL-2.0 License", file: "MPL-2.0.txt" },
    { name: "Privacy Policy", file: "PRIVACY.txt" },
    { name: "Third Party Licenses", file: "THIRD_PARTY_LICENSES.txt" }
  ];

  const navContainer = document.getElementById('docs-nav');
  const contentContainer = document.getElementById('content-container');
  const loadingDiv = document.getElementById('loading');

  const githubRawBaseUrl = "https://raw.githubusercontent.com/akserverstorage/akserver/main/licenses/";

  // Create nav buttons
  docs.forEach((doc, index) => {
    const btn = document.createElement('button');
    btn.textContent = doc.name;
    btn.setAttribute('data-file', doc.file);
    btn.type = 'button';
    btn.addEventListener('click', () => {
      loadDocument(doc.file);
      setActiveButton(btn);
    });
    navContainer.appendChild(btn);
  });

  function setActiveButton(activeBtn) {
    [...navContainer.children].forEach(btn => {
      btn.classList.toggle('active', btn === activeBtn);
    });
  }

  async function loadDocument(filename) {
    contentContainer.setAttribute('aria-busy', 'true');
    contentContainer.textContent = '';
    loadingDiv.style.display = 'block';
    loadingDiv.textContent = 'Loading...';
    try {
      const response = await fetch(githubRawBaseUrl + filename);
      if (!response.ok) throw new Error(`Failed to load ${filename}`);
      const text = await response.text();
      loadingDiv.style.display = 'none';
      contentContainer.textContent = text;
    } catch (error) {
      loadingDiv.textContent = `Error loading document: ${error.message}`;
    }
    contentContainer.setAttribute('aria-busy', 'false');
  }
</script>

</body>
</html>
